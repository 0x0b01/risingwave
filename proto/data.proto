syntax = "proto3";

import "google/protobuf/any.proto";

package risingwave.executor.proto;
option java_package = "com.risingwave.proto.data";
option java_multiple_files = true;
option optimize_for = SPEED;

message Buffer {
    enum CompressionType {
        INVALID = 0;
        NONE = 1;
    }
    
    CompressionType compression = 1;
    bytes body = 2;
}

message DataType {
    enum TypeName {
       UNKNOWN = 0;
       INT16 = 1;
       INT32 = 2;
       INT64 = 3;
       FLOAT = 4;
       DOUBLE = 5;
       BOOLEAN = 6;
       CHAR = 7;
       VARCHAR = 8;
    }
    TypeName type_name = 1;
    uint32 precision = 2;
}

message ColumnCommon {

    DataType column_type = 1;
    Buffer null_bitmap = 2;
}

message FixedWidthNumericColumn {
    ColumnCommon common_parts = 1;
    Buffer values = 2;
}

message DataChunk {
    uint32 cardinality = 1;

    repeated google.protobuf.Any columns = 2;
}


