syntax = "proto3";

package hummock;

option java_multiple_files = true;
option java_package = "com.risingwave.proto.hummock";
option optimize_for = SPEED;

message BlockOffset {
  bytes key = 1;
  uint32 offset = 2;
  uint32 len = 3;
}

message TableIndex {
  repeated BlockOffset offsets = 1;
  bytes bloom_filter = 2;
  uint32 estimated_size = 3;
  uint64 max_version = 4;
  uint32 key_count = 5;
  bytes first_key = 6;
  bytes last_key = 7;
}

message Checksum {
  enum Algorithm {
    CRC32C = 0;
    XXHash64 = 1;
  }
  Algorithm algo = 1; // For storing type of Checksum algorithm used
  uint64 sum = 2;
}
